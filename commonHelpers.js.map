{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function renderMarkup(data) {\n  return data.hits\n    .map(\n      el =>\n        `<div class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${el.largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${el.webformatURL}\" alt=\"${el.tags}\" />\n            </a>\n            <div class=\"gallery-item-info\">\n                <p class=\"gallery-item-info-par\">\n                    <span class=\"gallery-item-info-span\">Likes: <span>${el.likes}</span>\n                    </span>    \n                </p>\n                <p class=\"gallery-item-info-par\">\n                    <span class=\"gallery-item-info-span\">Views: <span>${el.views}</span>\n                    </span>    \n                </p>\n                <p class=\"gallery-item-info-par\">\n                    <span class=\"gallery-item-info-span\">Comments: <span>${el.comments}</span>\n                    </span>    \n                </p>\n                <p class=\"gallery-item-info-par\">\n                    <span class=\"gallery-item-info-span\">Downloads: <span>${el.downloads}</span>\n                    </span>    \n                </p>\n            </div>\n        </div>`\n    )\n    .join('');\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst KEY = '42589102-bb5462888a4e95731e5ef7933';\nconst URL = 'https://pixabay.com/api/';\nconst loader = document.querySelector('.loader');\n\nexport function fetchImages(searchRequest) {\n  const searchParamObj = {\n    key: KEY,\n    q: searchRequest,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n  const searchParams = new URLSearchParams(searchParamObj);\n\n  loader.style.display = 'block';\n\n  return fetch(`${URL}?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`Error! Status: ${response.status}`);\n      }\n      return response.json();\n    })\n    .then(data => {\n      loader.style.display = 'none';\n\n      if (data.hits.length === 0) {\n        iziToast.error({\n          timeout: 3000,\n          position: 'topRight',\n          message:\n            'There are no images matching your search query. Please, enter something else!',\n        });\n      }\n      return data;\n    })\n    .catch(error => {\n      console.error('Error fetching data!', error);\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { renderMarkup } from './js/render-functions';\nimport { fetchImages } from './js/pixabay-api';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  nav: true,\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 150,\n});\n\nconst form = document.querySelector('.search-form');\nconst container = document.querySelector('.gallery');\nlet searchWord = '';\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n\n  container.innerHTML = '';\n  searchWord = form.elements.searchWord.value.trim();\n\n  fetchImages(searchWord)\n    .then(data => {\n      const marcup = renderMarkup(data);\n      container.insertAdjacentHTML('beforeend', marcup);\n\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.error('Error:', error);\n    });\n  form.reset();\n}"],"names":["renderMarkup","data","el","KEY","URL","loader","fetchImages","searchRequest","searchParamObj","searchParams","response","iziToast","error","lightbox","SimpleLightbox","form","container","searchWord","onSubmit","event","marcup"],"mappings":"6vBAAO,SAASA,EAAaC,EAAM,CACjC,OAAOA,EAAK,KACT,IACCC,GACE;AAAA,4CACoCA,EAAG,aAAa;AAAA,kDACVA,EAAG,YAAY,UAAUA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA,wEAIVA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,wEAIRA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,2EAILA,EAAG,QAAQ;AAAA;AAAA;AAAA;AAAA,4EAIVA,EAAG,SAAS;AAAA;AAAA;AAAA;AAAA,eAKnF,EACA,KAAK,EAAE,CACZ,CC1BA,MAAMC,EAAM,qCACNC,EAAM,2BACNC,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,EAAYC,EAAe,CACzC,MAAMC,EAAiB,CACrB,IAAKL,EACL,EAAGI,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EACQE,EAAe,IAAI,gBAAgBD,CAAc,EAEvD,OAAAH,EAAO,MAAM,QAAU,QAEhB,MAAM,GAAGD,CAAG,IAAIK,CAAY,EAAE,EAClC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,kBAAkBA,EAAS,MAAM,EAAE,EAErD,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKT,IACJI,EAAO,MAAM,QAAU,OAEnBJ,EAAK,KAAK,SAAW,GACvBU,EAAS,MAAM,CACb,QAAS,IACT,SAAU,WACV,QACE,+EACZ,CAAS,EAEIV,EACR,EACA,MAAMW,GAAS,CACd,QAAQ,MAAM,uBAAwBA,CAAK,CACjD,CAAK,CACL,CCpCA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,IAAK,GACL,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAY,SAAS,cAAc,UAAU,EACnD,IAAIC,EAAa,GAEjBF,EAAK,iBAAiB,SAAUG,CAAQ,EAExC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EAEpBH,EAAU,UAAY,GACtBC,EAAaF,EAAK,SAAS,WAAW,MAAM,KAAI,EAEhDT,EAAYW,CAAU,EACnB,KAAKhB,GAAQ,CACZ,MAAMmB,EAASpB,EAAaC,CAAI,EAChCe,EAAU,mBAAmB,YAAaI,CAAM,EAEhDP,EAAS,QAAO,CACtB,CAAK,EACA,MAAMD,GAAS,CACd,QAAQ,MAAM,SAAUA,CAAK,CACnC,CAAK,EACHG,EAAK,MAAK,CACZ"}